Тестовое задание для Синергия МС.

## Требования

В test.txt

## Запуск

0. (Опционально) Создать виртуальное окружение

```
virtualenv .venv
source .venv/bin/activate
```

1. Поставить зависимости

```
pip install -r requirements.txt
```

2. Мигрировать БД (для тестирования использовался sqlite версии 3.40.1, для
минимальной работы требуется 3.8.3+ (из-за использования recursive))

```
referal/manage.py migrate
```

3. Импортировать записи из json в бд

```
referal/manage.py import_referal_users ./data.json
```

4. Запустить проект

```
referal/manage.py runserver
```

## Тестирование

По умолчанию проект запускается на 127.0.0.1:8000.
Открыв в браузере 127.0.0.1:8000/api/ - попадаем в корень апи.

Какие эндпоинты есть:

- /api/users/ - список реферальных пользователей и их уровень

- /api/users/{referal_id}/ - информация по конкретному пользователю

- /api/users/{referal_id}/detailed/ - детальная информация, включая количество
денег на депозите и бонусных денег полученных от приглашенных пользователей кто
внес депозит.

- /api/users/{referal_id}/add_deposit/ - для добавления депозита на счет конкретного
пользователя (отправкой пост запроса с телом вида {"deposit": 10} или через веб
вью дрфа).
